<table class="table table-striped table-hover">
    <caption> Meds </caption>
    <thead ng-controller="MedController" tc-medlist="true"></thead>
    <tbody ng-controller="EventsController">
        <tr
          ng-repeat="event in events"
          ng-controller="EventController as E"
          ng-init="E.init($index, event)"
          title="{{event.notes}}"
          >
            <td ng-include="'partials/days.html'" align="right"></td>
            <td ng-include="'partials/glyphs.html'"></td>
            <td ng-bind="event.date" class="event-date"></td>
            <td ng-include="'partials/clinics.html'"></td>
            <td ng-show="!E.hasMeds()" colspan="{{E.meds.length}}}" ng-bind-html="event.notes | rawHtml" class="notes"></td>
            <td ng-show="E.hasMeds()" ng-repeat="i in E.meds_indexes" class="meds">
            <span ng-show="E.hasDosage(i)" title="{{ E.meds[i].name }}">
                <span
                  class="label"
                  ng-repeat="dose in E.getMed(i) track by $index"
                  ng-class="{'label-primary':E.observed(i, $index),'label-default':E.unobserved(i, $index)}">
                    {{E.med(i, dose)}}
                </span>
            </span>
            </td>
        </tr>
    </tbody>
    <tfoot ng-controller="MedController" tc-medlist="true"></tfoot>
</table>

<tc-legend observers="true" extranotes="true"></tc-legend>
